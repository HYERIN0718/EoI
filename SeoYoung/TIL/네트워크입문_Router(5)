라우터에 들어오는 패킷의 목적지 IP 주소를 확인하고 자신이 가진 경로 정보를 이용해 패킷을 최적의 경로로 라우팅.

1) 라우터의 동작 방식과 역할
: 라우팅 테이블 비교.
: 브로드캐스트 컨트롤 : 들어온 패킷의 목적지 주소가 라우팅 테이블에 없으면 패킷을 버린다.
: 프로토콜 변환 : 패킷 포워딩 과정에서 기존 2계층 헤더 정보를 제거한 후 새로운 2계층 헤더를 만들어낸다.
*** [ 경로 지정, 브로드캐스트 컨트롤, 프로토콜 변환 ] ***


IP주소는 네트워크 주소와 호스트 주소로 나뉜 계층 구조를 기반으로 설계되어,로컬 네트워크와 원격지 네트워크를 구분할 수 있고 네트워크 주소를 기반으로 경로를 찾아갈 수 있다.
인터넷 연결은 대부분 지정된 대역폭만 빌려 사용하므로 쓸모없는 통신이 네트워크를 차지하는 것을 최대한 막으려고 한다.
라우터의 기본 동작은 멀티캐스트 정보를 습득하지 않고 브로드캐스트 패킷을 전달하지 않는다. -> 브로드캐스트의 다른 네트워크 전파를 막음

라우터의 또 다른 역할은 서로 다른 프로토콜로 구성된 네트워크를 연결하는 것
라우터에 패킷이 들어오면 2계층까지의 헤더 정보를 벗겨내고 3계층 주소를 확인한 후 2계층 헤더 정보를 새로 만들어 외부로 내보낸다. 
   -> 라우터 들어올 때와 나갈 때 패킷의 2계층 헤더 정보 다름.  -> 전혀 다른 기술 간 변환 ㄱㄴ

라우터는 서브넷 단위로 정보를 습득하고 라우팅 정보를 최적화하기 위해 서머리(summary)작업을 통해 여러 개의 서브넷 정보를 뭉쳐 전달한다.
그래서 라우터에 들어온 패킷의 목적지 주소와 라우터가 갖고 있는 라우팅 테이블 정보가 정확히 일치하지 않더라도 수많은 정보 중 목적지에 가장 근접한 정보를 찾아 패킷을 포워딩해야 한다.

라우터에서 라우팅의 역할은 경로 정보를 얻는 것뿐만이 아니라 다양한 경로 정보를 체계적으로 DB화하고 순위를 적절히 부여해 최선의 경로 정보만 수집해두는 것.
- 라우팅 : 최적의 경로로 생각되는 경로를 "라우팅 테이블에 올려 유지"하는 것
- 스위칭 : 라우팅 테이블을 "참조"하고 최적의 경로를 찾아 라우터 "외부로 포워딩"하는 작업

들어온 IP 주소와 완전히 매치되는 경로 정보가 없으면 롱기스트 프리픽스 매치 (Longest Prefix Match)기법을 이용해 경로 정보 중 가장 가까운 것 선택.  
-> 리소스 너무 많이 들음.

따라서, 캐시를 먼저 확인.

라우팅 프로토콜로 전달받은 네트워크의 경우, 우선 순위가 정해져 있음. 이 우선순위를 AD(Administrative Distance)라고 하는데, 라우터 생산업체마다 AD값이 조금 다르다.
가중치(AD)값이 동일할 경우에는 코스트 값으로 우선순위를 정하고, 코스트 값까지 동일할 시 ECMP.

즉,   LongestPrefixMatch > AD > Cost > ECMP 순으로.


- 스태틱 라우팅 문법 : 목적지로 가려면 패킷을 넥스트 홉으로 보내야 한다.
목적지 주소의 서브넷 마스크가 모두 0인 스태틱 라우팅을 디폴트 라우팅이라 한다.

















